<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IBA REAL ESTATE | Find Your Dream Property</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #1e40af;
            --secondary: #1e3a8a;
            --accent: #e11d48;
            --light: #f8fafc;
            --dark: #1e293b;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            color: var(--dark);
        }
        
        .hero-section {
            background: linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), url('/img/Screenshot_20250927-131850_WhatsAppBusiness[1].jpg') no-repeat center center;
            background-size: cover;
            height: 90vh;
        }
        
        .property-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }
        
        .input-highlight:focus {
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(30, 64, 175, 0.2);
        }
        
        .feature-icon {
            width: 80px;
            height: 80px;
            background-color: rgba(30, 64, 175, 0.1);
        }
        
        .testimonial-card {
            background-color: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
        }

        /* Dropdown Styles */
        .dropdown-menu {
            opacity: 0;
            visibility: hidden;
            transform: scale(0.95);
            transition: all 0.2s ease-in-out;
        }
        
        .dropdown-menu.show {
            opacity: 1;
            visibility: visible;
            transform: scale(1);
        }
        
        .dropdown-icon {
            transition: transform 0.2s ease-in-out;
        }
        
        .dropdown-icon.rotated {
            transform: rotate(180deg);
        }
        
        @media (max-width: 768px) {
            .hero-section {
                height: 70vh;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="bg-white shadow-lg sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex items-center"> <!-- Left side: Logo + Nav Links -->
                    <div class="flex-shrink-0 flex items-center">
                       <div class="h-10 w-10 rounded-full bg-blue-700 flex items-center justify-center overflow-hidden">
                        <img src="/img/Screenshot_20250927-131850_WhatsAppBusiness[1].jpg" 
                            alt="Logo or Profile Image" 
                            class="w-full h-full rounded-full object-cover">
                        </div>
                        <span class="ml-2 text-xl font-semibold text-blue-800">IBA REAL ESTATE</span>
                    </div>
                    <div class="hidden sm:ml-6 sm:flex sm:space-x-8 ml-6"> <!-- Nav Links + Dropdown -->
                        <a href="/" class="border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium">Home</a>
                        <a href="#properties" class="border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium">Properties</a>
                        <a href="#agents" class="border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium">Agents</a>
                        <a href="#about" class="border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium">About</a>
                        <a href="#contact" class="border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium">Contact</a>
                        
                        <!-- Professional Service Dropdown -->
                        <div class="admin-dropdown relative inline-block">
                            <button id="service-toggle" class="dropdown-toggle flex items-center px-1 pt-1 border-b-2 border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 text-sm font-medium focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition duration-200" aria-expanded="false" aria-controls="service-menu">
                                <i class="fas fa-tools text-base mr-1" aria-hidden="true"></i>Services
                                <i class="fas fa-chevron-down dropdown-icon text-sm ml-1"></i>
                            </button>
                            <div class="dropdown-menu absolute right-0 mt-2 w-48 bg-white border border-gray-200 rounded-md shadow-lg py-1 z-50" id="service-menu" role="menu" aria-labelledby="service-toggle">
                                <!--<a href="costumer-sell-page.html" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-gray-900 flex items-center transition duration-150" role="menuitem" tabindex="-1" aria-label="Sell Properties">
                                    <i class="fas fa-tag text-base mr-3" aria-hidden="true"></i>Sell
                                </a>-->
                                <a href="/customer-buy-page.html" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-gray-900 flex items-center transition duration-150" role="menuitem" tabindex="-1" aria-label="Buy Properties">
                                    <i class="fas fa-shopping-cart text-base mr-3" aria-hidden="true"></i>Buy
                                </a>
                                <a href="/customer-rent-page.html" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-gray-900 flex items-center transition duration-150" role="menuitem" tabindex="-1" aria-label="Rent Properties">
                                    <i class="fas fa-key text-base mr-3" aria-hidden="true"></i>Rent
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Right side: Login Container (Desktop) -->
                <div id="desktop-login-container" class="hidden sm:flex sm:items-center space-x-2">
                    <a id="login-link-desktop" href="login"><button class="bg-blue-700 hover:bg-blue-800 px-4 py-2 rounded-md text-white font-medium transition duration-300">Login / Register</button></a>
                </div>
                
                <!-- Mobile Menu Button -->
                <div class="-mr-2 flex items-center sm:hidden">
                    <button type="button" id="mobile-menu-button" class="inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500">
                        <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                        </svg>
                    </button>
                </div>
            </div>
        </div>
        
        <!-- Mobile menu, show/hide based on menu state. -->
        <div class="sm:hidden hidden" id="mobile-menu">
            <div class="pt-2 pb-3 space-y-1">
                <a href="index.html" class="bg-gray-50 border-blue-500 text-blue-700 block pl-3 pr-4 py-2 border-l-4 text-base font-medium">Home</a>
                <a href="#properties" class="border-transparent text-gray-500 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700 block pl-3 pr-4 py-2 border-l-4 text-base font-medium">Properties</a>
                <a href="#agents" class="border-transparent text-gray-500 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700 block pl-3 pr-4 py-2 border-l-4 text-base font-medium">Agents</a>
                <a href="#about" class="border-transparent text-gray-500 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700 block pl-3 pr-4 py-2 border-l-4 text-base font-medium">About</a>
                <a href="#contact" class="border-transparent text-gray-500 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700 block pl-3 pr-4 py-2 border-l-4 text-base font-medium">Contact</a>
                
                <!-- Mobile Services Section (Simple List) -->
                <div class="border-l-4 border-transparent text-gray-500 hover:bg-gray-50 pl-3 pr-4 py-2">
                    <details class="text-base font-medium">
                        <summary class="cursor-pointer flex items-center justify-between">
                            <span>Services</span>
                            <i class="fas fa-chevron-down text-sm"></i>
                        </summary>
                        <ul class="mt-2 ml-4 space-y-1 text-sm">
                            <!--<li><a href="sell-page.html" class="block text-gray-600 hover:text-blue-700 py-1">Sell</a></li>-->
                            <li><a href="/customer-buy-page.html" class="block text-gray-600 hover:text-blue-700 py-1">Buy</a></li>
                            <li><a href="/customer-rent-page.html" class="block text-gray-600 hover:text-blue-700 py-1">Rent</a></li>
                        </ul>
                    </details>
                </div>
                
                
             <div id="mobile-login-section" class="mt-4 px-4">
            <a id="login-link-mobile" href="login"><button class="w-full bg-blue-700 hover:bg-blue-800 px-4 py-2 rounded-md text-white font-medium transition duration-300">Login / Register</button></a>
        </div>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero-section flex items-center justify-center text-white relative">
        <div class="text-center px-4 sm:px-6 lg:px-8 max-w-3xl">
            <h1 class="text-4xl sm:text-5xl md:text-6xl font-bold mb-6">Find Your Dream Home Today</h1>
            <p class="text-lg sm:text-xl mb-8">Discover the perfect property for your lifestyle from our curated collection of luxury homes and commercial spaces.</p>
            
            <!-- Search Form -->
            <!--<form id="search-form" class="bg-white rounded-lg shadow-xl p-4 md:p-6">
                <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                    <div class="md:col-span-2">
                        <label for="location" class="sr-only">Location</label>
                        <div class="relative">
                            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                <i class="fas fa-map-marker-alt text-gray-400"></i>
                            </div>
                            <input type="text" id="location" class="block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-md input-highlight" placeholder="City, Neighborhood, ZIP">
                        </div>
                    </div>
                    <div>
                        <label for="property-type" class="sr-only">Property Type</label>
                        <select id="property-type" class="block w-full pl-3 pr-10 py-3 border border-gray-300 rounded-md input-highlight">
                            <option value="">All Types</option>
                            <option>1 room self contain</option>
                            <option>2 rooms self contain</option>
                            <option>single room</option>
                            <option>plot of land</option>
                        </select>
                    </div>
                    <div>
                        <button type="submit" class="w-full bg-blue-700 hover:bg-blue-800 text-white py-3 px-4 rounded-md transition duration-300 flex items-center justify-center">
                            <i class="fas fa-search mr-2"></i> Search
                        </button>
                    </div>
                </div>
            </form>-->
        </div>
        
        <div class="absolute bottom-4 left-0 right-0 flex justify-center">
            <a href="#properties" class="animate-bounce bg-white text-blue-800 rounded-full p-2 shadow-lg">
                <i class="fas fa-chevron-down"></i>
            </a>
        </div>
    </section>

    <!-- Featured Properties -->
    <section id="properties" class="py-16 bg-gray-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold text-gray-900 mb-4">Featured Properties</h2>
                <p class="text-lg text-gray-600 max-w-2xl mx-auto">Explore our handpicked selection of premium properties that match your lifestyle and aspirations.</p>
                <div class="mt-6 flex justify-center space-x-4">
                    <button class="px-4 py-2 border-b-2 border-blue-500 text-blue-700 font-medium">All</button>
                   <!-- <button class="px-4 py-2 border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 font-medium">Houses</button>
                    <button class="px-4 py-2 border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 font-medium">Apartments</button>
                    <button class="px-4 py-2 border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 font-medium">Land</button>-->
                </div>
            </div>
            
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">
                <!-- Property 1 -->
                 <% card.forEach(card => { %> 
                <!-- Property 2: Urban Chic Loft (Self Contain) -->
                <div class="bg-white rounded-lg overflow-hidden shadow-md property-card transition duration-300" data-type="duplex">
                    <div class="relative">
                        <img src="<%= card.image_data %>" alt="Contemporary urban loft with exposed brick walls and industrial chic design" class="w-full h-48 object-cover" />
                        <div class="absolute bottom-4 left-4 bg-white/80 text-gray-800 px-3 py-1 rounded-full text-sm font-medium flex items-center">
                            <i class="fas fa-map-marker-alt text-blue-700 mr-1"></i> <%= card.propertyAddress %>
                        </div>
                    </div>
                    <div class="p-4">
                        <h3 class="text-xl font-bold text-gray-900 mb-2"><%= card.title %></h3>
                        <p class="text-gray-600 mb-4"><%= card.propertyAddress %></p>
                        <div class="flex justify-between items-center">
                            <div>
                                <span class="text-blue-700 font-bold text-xl"><%= card.amount %></span>
                            </div>
                            <div class="flex space-x-2 text-gray-500">
                                <span class="flex items-center">
                                    <i class="fas fa-bed mr-1 text-blue-700"></i> <%= card.bedrooms %>
                                </span>
                                <span class="flex items-center">
                                    <i class="fas fa-bath mr-1 text-blue-700"></i> <%= card.bathrooms %>
                                </span>
                                <span class="flex items-center">
                                    <i class="fas fa-ruler-combined mr-1 text-blue-700"></i> <%= card.sqft %>sqft
                                </span>
                            </div>
                        </div>
                        
                        <a href="property-detail?id=<%= card.id %>" class="block mt-4 bg-blue-700 hover:bg-blue-800 text-white py-2 rounded-md text-center transition duration-300 requires-login">View Details</a>
                    </div>
                </div>
                <% }) %>
            </div>
            
            <div class="mt-12 text-center">
                <a href="/customer-buy-page.html"><button class="bg-blue-700 hover:bg-blue-800 text-white px-8 py-3 rounded-lg font-medium transition duration-300 requires-login">
                    View All Properties
                </button></a>
            </div>
        </div>
    </section>

    <!-- Why Choose Us -->
    <section class="py-16 bg-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold text-gray-900 mb-4">Why Choose IBA REAL ESTATE</h2>
                <p class="text-lg text-gray-600 max-w-2xl mx-auto">We combine local expertise with global connections to deliver exceptional results.</p>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div class="text-center p-6">
                    <div class="flex justify-center mb-4">
                        <div class="feature-icon rounded-full flex items-center justify-center text-blue-700">
                            <i class="fas fa-hand-holding-usd text-3xl"></i>
                        </div>
                    </div>
                    <h3 class="text-xl font-semibold text-gray-900 mb-3">Best Prices</h3>
                    <p class="text-gray-600">Our extensive market research ensures you get the best value for your investment.</p>
                </div>
                
                <div class="text-center p-6">
                    <div class="flex justify-center mb-4">
                        <div class="feature-icon rounded-full flex items-center justify-center text-blue-700">
                            <i class="fas fa-user-shield text-3xl"></i>
                        </div>
                    </div>
                    <h3 class="text-xl font-semibold text-gray-900 mb-3">Trusted Agents</h3>
                    <p class="text-gray-600">Our team of certified experts provides guidance through every step of the process.</p>
                </div>
                
                <div class="text-center p-6">
                    <div class="flex justify-center mb-4">
                        <div class="feature-icon rounded-full flex items-center justify-center text-blue-700">
                            <i class="fas fa-home text-3xl"></i>
                        </div>
                    </div>
                    <h3 class="text-xl font-semibold text-gray-900 mb-3">Premium Properties</h3>
                    <p class="text-gray-600">Carefully curated selection of high-quality homes and commercial spaces.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Our Agents -->
    <section id="agents" class="py-16 bg-gray-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold text-gray-900 mb-4">Meet Our Agents</h2>
                <p class="text-lg text-gray-600 max-w-2xl mx-auto">Our experienced professionals are ready to help you find your perfect property.</p>
            </div>
            
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8">
                <!-- Agent 1 -->
                <div class="bg-white rounded-lg overflow-hidden shadow-md text-center p-6 transition duration-300 hover:-translate-y-2">
                    <div class="w-32 h-32 mx-auto rounded-full overflow-hidden border-4 border-blue-100 mb-4">
                        <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/232d064f-e8c9-4302-acd3-efe9b2dbd04a.png" alt="Portrait of Sarah Johnson, professional real estate agent in grey suit" class="w-full h-full object-cover" loading="lazy" />
                    </div>
                    <h3 class="text-xl font-bold text-gray-900 mb-1">Sarah Johnson</h3>
                    <p class="text-blue-700 font-medium mb-4">Senior Agent</p>
                    <div class="flex justify-center space-x-3 mb-4">
                        <a href="#" class="text-gray-400 hover:text-blue-700">
                            <i class="fab fa-facebook-f"></i>
                        </a>
                        <a href="#" class="text-gray-400 hover:text-blue-700">
                            <i class="fab fa-twitter"></i>
                        </a>
                        <a href="#" class="text-gray-400 hover:text-blue-700">
                            <i class="fab fa-linkedin-in"></i>
                        </a>
                        <a href="#" class="text-gray-400 hover:text-blue-700">
                            <i class="fab fa-instagram"></i>
                        </a>
                    </div>
                    <div class="flex items-center justify-center text-gray-500 mb-1">
                        <i class="fas fa-phone-alt mr-2"></i> (555) 123-4567
                    </div>
                    <div class="flex items-center justify-center text-gray-500">
                        <i class="fas fa-envelope mr-2"></i> sarah@ibarealestate.com
                    </div>
                </div>
                
                <!-- Agent 2 -->
                <div class="bg-white rounded-lg overflow-hidden shadow-md text-center p-6 transition duration-300 hover:-translate-y-2">
                    <div class="w-32 h-32 mx-auto rounded-full overflow-hidden border-4 border-blue-100 mb-4">
                        <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/cb53ef20-b748-4003-ba1a-89a7640bc6fe.png" alt="Portrait of Michael Chen, professional real estate agent in navy blue blazer" class="w-full h-full object-cover" loading="lazy" />
                    </div>
                    <h3 class="text-xl font-bold text-gray-900 mb-1">Michael Chen</h3>
                    <p class="text-blue-700 font-medium mb-4">Luxury Specialist</p>
                    <div class="flex justify-center space-x-3 mb-4">
                        <a href="#" class="text-gray-400 hover:text-blue-700">
                            <i class="fab fa-facebook-f"></i>
                        </a>
                        <a href="#" class="text-gray-400 hover:text-blue-700">
                            <i class="fab fa-twitter"></i>
                        </a>
                        <a href="#" class="text-gray-400 hover:text-blue-700">
                            <i class="fab fa-linkedin-in"></i>
                        </a>
                        <a href="#" class="text-gray-400 hover:text-blue-700">
                            <i class="fab fa-instagram"></i>
                        </a>
                    </div>
                    <div class="flex items-center justify-center text-gray-500 mb-1">
                        <i class="fas fa-phone-alt mr-2"></i> (555) 234-5678
                    </div>
                    <div class="flex items-center justify-center text-gray-500">
                        <i class="fas fa-envelope mr-2"></i> michael@ibarealestate.com
                    </div>
                </div>
                
                <!-- Agent 3 -->
                <div class="bg-white rounded-lg overflow-hidden shadow-md text-center p-6 transition duration-300 hover:-translate-y-2">
                    <div class="w-32 h-32 mx-auto rounded-full overflow-hidden border-4 border-blue-100 mb-4">
                        <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/3ab1cb90-097d-4607-9937-1d51d72b40f0.png" alt="Portrait of David Wilson, professional real estate agent with friendly smile" class="w-full h-full object-cover" loading="lazy" />
                    </div>
                    <h3 class="text-xl font-bold text-gray-900 mb-1">David Wilson</h3>
                    <p class="text-blue-700 font-medium mb-4">Commercial Expert</p>
                    <div class="flex justify-center space-x-3 mb-4">
                        <a href="#" class="text-gray-400 hover:text-blue-700">
                            <i class="fab fa-facebook-f"></i>
                        </a>
                        <a href="#" class="text-gray-400 hover:text-blue-700">
                            <i class="fab fa-twitter"></i>
                        </a>
                        <a href="#" class="text-gray-400 hover:text-blue-700">
                            <i class="fab fa-linkedin-in"></i>
                        </a>
                        <a href="#" class="text-gray-400 hover:text-blue-700">
                            <i class="fab fa-instagram"></i>
                        </a>
                    </div>
                    <div class="flex items-center justify-center text-gray-500 mb-1">
                        <i class="fas fa-phone-alt mr-2"></i> (555) 345-6789
                    </div>
                    <div class="flex items-center justify-center text-gray-500">
                        <i class="fas fa-envelope mr-2"></i> david@ibarealestate.com
                    </div>
                </div>
                
                <!-- Agent 4 -->
                <div class="bg-white rounded-lg overflow-hidden shadow-md text-center p-6 transition duration-300 hover:-translate-y-2">
                    <div class="w-32 h-32 mx-auto rounded-full overflow-hidden border-4 border-blue-100 mb-4">
                        <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/670ab1b4-4d17-48bb-a6d2-d7245b269762.png" alt="Portrait of Maria Rodriguez, professional real estate agent in elegant professional attire" class="w-full h-full object-cover" loading="lazy" />
                    </div>
                    <h3 class="text-xl font-bold text-gray-900 mb-1">Maria Rodriguez</h3>
                    <p class="text-blue-700 font-medium mb-4">First-Time Buyers</p>
                    <div class="flex justify-center space-x-3 mb-4">
                        <a href="#" class="text-gray-400 hover:text-blue-700">
                            <i class="fab fa-facebook-f"></i>
                        </a>
                        <a href="#" class="text-gray-400 hover:text-blue-700">
                            <i class="fab fa-twitter"></i>
                        </a>
                        <a href="#" class="text-gray-400 hover:text-blue-700">
                            <i class="fab fa-linkedin-in"></i>
                        </a>
                        <a href="#" class="text-gray-400 hover:text-blue-700">
                            <i class="fab fa-instagram"></i>
                        </a>
                    </div>
                    <div class="flex items-center justify-center text-gray-500 mb-1">
                        <i class="fas fa-phone-alt mr-2"></i> (555) 456-7890
                    </div>
                    <div class="flex items-center justify-center text-gray-500">
                        <i class="fas fa-envelope mr-2"></i> maria@ibarealestate.com
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Testimonials -->
    <section class="py-16 bg-blue-900 text-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold mb-4">What Our Clients Say</h2>
                <p class="text-blue-200 max-w-2xl mx-auto">Hear from our satisfied clients about their experiences with IBA REAL ESTATE.</p>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- Testimonial 1 -->
                <div class="testimonial-card rounded-lg p-6 shadow-lg">
                    <div class="flex items-center mb-4">
                        <div class="w-12 h-12 rounded-full overflow-hidden mr-4">
                       <img src="https://ui-avatars.com/api/?name=Client&background=1e40af&color=ffffff&size=300&rounded=true&bold=true" 
                        alt="Satisfied Client Portrait" 
                        class="w-full h-full object-cover" 
                        loading="lazy" 
                        onerror="this.src='https://via.placeholder.com/300x300/1e40af/FFFFFF?text=ðŸ‘¤'; this.alt='Generic Client Avatar'" />
                        </div>
                        <div>
                            <h4 class="font-bold text-gray-900">Samuel Oshioke</h4>
                            <p class="text-gray-600 text-sm">Auchi, Edo state</p>
                        </div>
                    </div>
                    <p class="text-gray-700">
                        "The team at IBA REAL ESTATE made our home buying experience seamless. Their attention to detail and market knowledge helped us find our dream home quickly."
                    </p>
                    <div class="mt-3 flex text-yellow-400">
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                    </div>
                </div>
                
                <!-- Testimonial 2 -->
                <div class="testimonial-card rounded-lg p-6 shadow-lg">
                    <div class="flex items-center mb-4">
                        <div class="w-12 h-12 rounded-full overflow-hidden mr-4">
                           <img src="https://ui-avatars.com/api/?name=Client&background=1e40af&color=ffffff&size=300&rounded=true&bold=true" 
                        alt="Satisfied Client Portrait" 
                        class="w-full h-full object-cover" 
                        loading="lazy" 
                        onerror="this.src='https://via.placeholder.com/300x300/1e40af/FFFFFF?text=ðŸ‘¤'; this.alt='Generic Client Avatar'" />
                        </div>
                        <div>
                            <h4 class="font-bold text-gray-900">Emmanuel Peter</h4>
                            <p class="text-gray-600 text-sm">Ikeja, Lagos State</p>
                        </div>
                    </div>
                    <p class="text-gray-700">
                        "As first-time buyers, we were nervous about the process, but Maria guided us through every step with patience and professionalism."
                    </p>
                    <div class="mt-3 flex text-yellow-400">
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star-half-alt"></i>
                    </div>
                </div>
                
                <!-- Testimonial 3 -->
                <div class="testimonial-card rounded-lg p-6 shadow-lg">
                    <div class="flex items-center mb-4">
                        <div class="w-12 h-12 rounded-full overflow-hidden mr-4">
                          <img src="https://ui-avatars.com/api/?name=Client&background=1e40af&color=ffffff&size=300&rounded=true&bold=true" 
                        alt="Satisfied Client Portrait" 
                        class="w-full h-full object-cover" 
                        loading="lazy" 
                        onerror="this.src='https://via.placeholder.com/300x300/1e40af/FFFFFF?text=ðŸ‘¤'; this.alt='Generic Client Avatar'" />
                        </div>
                        <div>
                            <h4 class="font-bold text-gray-900">Saniu John</h4>
                            <p class="text-gray-600 text-sm">New Benin , Edo State</p>
                        </div>
                    </div>
                    <p class="text-gray-700">
                        "We got 20% above asking price thanks to their marketing strategy and negotiation skills. Couldn't be happier with the service!"
                    </p>
                    <div class="mt-3 flex text-yellow-400">
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- About Us -->
    <section id="about" class="py-16 bg-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="md:flex items-center">
                <div class="md:w-1/2 mb-8 md:mb-0 md:pr-10">
                    <img src="/img/Screenshot_20250927-131850_WhatsAppBusiness[1].jpg" alt="Team of professional real estate agents collaborating in modern office environment" class="rounded-lg shadow-lg w-full" loading="lazy" />
                </div>
                <div class="md:w-1/2">
                    <h2 class="text-3xl font-bold text-gray-900 mb-6">About IBA REAL ESTATE</h2>
                    <p class="text-gray-600 mb-4">
                        Founded in 2023, IBA REAL ESTATE has grown from a small local office to a leading real estate brokerage with offices in major cities across the country. Our mission is to provide exceptional service by combining deep local market knowledge with innovative technology.
                    </p>
                    <p class="text-gray-600 mb-4">
                        We believe buying or selling property should be an enjoyable, rewarding experience. That's why we invest heavily in training our agents and developing proprietary tools to give our clients an advantage in today's competitive market.
                    </p>
                    <div class="grid grid-cols-2 gap-4 mt-6">
                        <div class="flex items-center">
                            <div class="bg-blue-100 p-2 rounded-full mr-3">
                                <i class="fas fa-home text-blue-700"></i>
                            </div>
                            <span class="font-medium text-gray-900">500+</span>
                            <span class="text-gray-600 ml-1">Properties Sold</span>
                        </div>
                        <div class="flex items-center">
                            <div class="bg-blue-100 p-2 rounded-full mr-3">
                                <i class="fas fa-city text-blue-700"></i>
                            </div>
                            <span class="font-medium text-gray-900">12</span>
                            <span class="text-gray-600 ml-1">Cities</span>
                        </div>
                        <div class="flex items-center">
                            <div class="bg-blue-100 p-2 rounded-full mr-3">
                                <i class="fas fa-users text-blue-700"></i>
                            </div>
                            <span class="font-medium text-gray-900">25</span>
                            <span class="text-gray-600 ml-1">Agents</span>
                        </div>
                        <div class="flex items-center">
                            <div class="bg-blue-100 p-2 rounded-full mr-3">
                                <i class="fas fa-trophy text-blue-700"></i>
                            </div>
                            <span class="font-medium text-gray-900">25</span>
                            <span class="text-gray-600 ml-1">Awards</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Newsletter -->
   <!-- <section class="py-16 bg-gray-100">
       <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <h2 class="text-3xl font-bold text-gray-900 mb-4">Stay Updated</h2>
            <p class="text-lg text-gray-600 mb-8">Subscribe to our newsletter for market updates, new listings, and real estate tips.</p>
            
            <form class="flex flex-col sm:flex-row gap-4 max-w-lg mx-auto">
                <input type="email" id="newsletter-email" placeholder="Your email address" class="flex-grow px-4 py-3 rounded-lg border border-gray-300 input-highlight focus:outline-none focus:ring-2 focus:ring-blue-500" required />
                <button type="submit" class="bg-blue-700 hover:bg-blue-800 px-6 py-3 rounded-lg text-white font-medium transition duration-300 whitespace-nowrap">
                    Subscribe Now
                </button>
            </form>
            
            <p class="text-sm text-gray-500 mt-4">We respect your privacy. Unsubscribe at any time.</p>
        </div>
    </section>-->

    <!-- Contact Form -->
    <section id="contact" class="py-16 bg-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="lg:grid lg:grid-cols-2 lg:gap-12">
                <div>
                    <h2 class="text-3xl font-bold text-gray-900 mb-6">Contact Us</h2>
                    <p class="text-gray-600 mb-8">
                        Have questions or ready to start your property search? Our team is here to help. Fill out the form or contact us directly using the information below.
                    </p>
                    
                    <div class="space-y-4 mb-8">
                        <div class="flex items-start">
                            <div class="flex-shrink-0 bg-blue-100 p-3 rounded-lg mr-4">
                                <i class="fas fa-map-marker-alt text-blue-700"></i>
                            </div>
                            <div>
                                <h3 class="font-semibold text-gray-900 mb-1">Main Office</h3>
                                <p class="text-gray-600">SOUTH IBIE,ETSAKO WEST LGA<br>AUCHI EDO STATE</p>
                            </div>
                        </div>
                        
                        <div class="flex items-start">
                            <div class="flex-shrink-0 bg-blue-100 p-3 rounded-lg mr-4">
                                <i class="fas fa-phone-alt text-blue-700"></i>
                            </div>
                            <div>
                                <h3 class="font-semibold text-gray-900 mb-1">Phone Number</h3>
                                <p class="text-gray-600">+234 806 322 2628</p>
                            </div>
                        </div>
                        
                        <div class="flex items-start">
                            <div class="flex-shrink-0 bg-blue-100 p-3 rounded-lg mr-4">
                                <i class="fas fa-envelope text-blue-700"></i>
                            </div>
                            <div>
                                <h3 class="font-semibold text-gray-900 mb-1">Email Address</h3>
                                <p class="text-gray-600">ibarealestate2023@gmail.com</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="flex space-x-4">
                        <a href="#" class="w-10 h-10 rounded-full bg-blue-100 text-blue-700 flex items-center justify-center hover:bg-blue-700 hover:text-white transition duration-300">
                            <i class="fab fa-facebook-f"></i>
                        </a>
                        <a href="#" class="w-10 h-10 rounded-full bg-blue-100 text-blue-700 flex items-center justify-center hover:bg-blue-700 hover:text-white transition duration-300">
                            <i class="fab fa-twitter"></i>
                        </a>
                        <a href="#" class="w-10 h-10 rounded-full bg-blue-100 text-blue-700 flex items-center justify-center hover:bg-blue-700 hover:text-white transition duration-300">
                            <i class="fab fa-instagram"></i>
                        </a>
                        <a href="#" class="w-10 h-10 rounded-full bg-blue-100 text-blue-700 flex items-center justify-center hover:bg-blue-700 hover:text-white transition duration-300">
                            <i class="fab fa-linkedin-in"></i>
                        </a>
                    </div>
                </div>
                
                <div>
        <form id="contact-form" class="bg-gray-50 rounded-xl p-6 sm:p-8 shadow-sm" method="post">
            <!-- Message Display Container (Hidden by Default) -->
            <div id="form-message" class="mb-4 p-4 rounded-lg hidden font-medium text-center transition-all duration-300">
                <!-- Success/Error Content Will Be Injected Here -->
            </div>
            
            <div class="grid grid-cols-1 gap-6">
                <div>
                    <label for="name" class="block text-sm font-medium text-gray-700 mb-1">Full Name</label>
                    <input type="text" id="name" name="name" class="block w-full px-4 py-3 rounded-lg border border-gray-300 input-highlight focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="John Smith" required>
                </div>
                
                <div>
                    <label for="email" class="block text-sm font-medium text-gray-700 mb-1">Email Address</label>
                    <input type="email" id="email" name="email" class="block w-full px-4 py-3 rounded-lg border border-gray-300 input-highlight focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="you@example.com" required>
                </div>
                
                <div>
                    <label for="phone" class="block text-sm font-medium text-gray-700 mb-1">Phone Number</label>
                    <input type="tel" id="phone" name="phone" class="block w-full px-4 py-3 rounded-lg border border-gray-300 input-highlight focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="+234 800 123 4567" required>
                </div>
                
                <div>
                    <label for="subject" class="block text-sm font-medium text-gray-700 mb-1">Subject</label>
                    <select id="subject" name="subject" class="block w-full px-4 py-3 rounded-lg border border-gray-300 input-highlight focus:outline-none focus:ring-2 focus:ring-blue-500">
                        <option value="">Select a subject</option>
                        <option>General Inquiry</option>
                        <option>Property Listing</option>
                        <option>Schedule a Viewing</option>
                        <option>Other</option>
                    </select>
                </div>
                
                <div>
                    <label for="message" class="block text-sm font-medium text-gray-700 mb-1">Message</label>
                    <textarea id="message" name="message" rows="4" class="block w-full px-4 py-3 rounded-lg border border-gray-300 input-highlight focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Your message..." required></textarea>
                </div>
                
                <div>
                    <button type="submit" id="submit-btn" class="w-full bg-blue-700 hover:bg-blue-800 px-6 py-3 rounded-lg text-white font-medium transition duration-300">
                        Send Message
                    </button>
                </div>
            </div>
        </form>

                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-900 text-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                <div>
                    <div class="flex items-center mb-4">
                        <div class="h-10 w-10 rounded-full bg-blue-700 flex items-center justify-center overflow-hidden">
                        <img src="/img/Screenshot_20250927-131850_WhatsAppBusiness[1].jpg" 
                            alt="Logo or Profile Image" 
                            class="w-full h-full rounded-full object-cover">
                        </div>
                        <span class="ml-2 text-xl font-semibold">IBA REAL ESTATE</span>
                    </div>
                    <p class="text-gray-400 mb-4">
                        Your trusted partner in real estate for over 15 years. We connect people with properties that elevate their lives.
                    </p>
                    <div class="flex space-x-4">
                        <a href="#" class="text-gray-400 hover:text-white">
                            <i class="fab fa-facebook-f"></i>
                        </a>
                        <a href="#" class="text-gray-400 hover:text-white">
                            <i class="fab fa-twitter"></i>
                        </a>
                        <a href="#" class="text-gray-400 hover:text-white">
                            <i class="fab fa-instagram"></i>
                        </a>
                        <a href="#" class="text-gray-400 hover:text-white">
                            <i class="fab fa-linkedin-in"></i>
                        </a>
                        <a href="#" class="text-gray-400 hover:text-white">
                            <i class="fab fa-youtube"></i>
                        </a>
                    </div>
                </div>
                
                <div>
                    <h3 class="text-lg font-semibold mb-4">Quick Links</h3>
                    <ul class="space-y-2">
                        <li><a href="/" class="text-gray-400 hover:text-white">Home</a></li>
                        <li><a href="properties.html" class="text-gray-400 hover:text-white">Properties</a></li>
                        <li><a href="#agents" class="text-gray-400 hover:text-white">Agents</a></li>
                        <li><a href="#about" class="text-gray-400 hover:text-white">About Us</a></li>
                        <li><a href="#contact" class="text-gray-400 hover:text-white">Contact</a></li>
                    </ul>
                </div>
                
                <div>
                    <h3 class="text-lg font-semibold mb-4">Services</h3>
                    <ul class="space-y-2">
                        <li><a href="/customer-buy-page.html" class="text-gray-400 hover:text-white">Buying</a></li>
                        <!--<li><a href="sell-page.html" class="text-gray-400 hover:text-white">Selling</a></li>-->
                        <li><a href="/customer-rent-page.html" class="text-gray-400 hover:text-white">Renting</a></li>
                        <!--<li><a href="#" class="text-gray-400 hover:text-white">Property Management</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white">Commercial Real Estate</a></li>-->
                    </ul>
                </div>
                
                <div>
                    <h3 class="text-lg font-semibold mb-4">Contact Info</h3>
                    <address class="not-italic text-gray-400">
                        <p class="mb-2">SOUTH IBIE,ETSAKO WEST LGA
</p>
                        <p class="mb-2">AUCHI EDO STATE</p>
                        <p class="mb-2">Phone: +234 806 322 2628</p>
                        <p class="mb-2">Email: ibarealestate2023@gmail.com</p>
                        <p class="mb-2">Hours: Mon-Fri 9am-6pm</p>
                    </address>
                </div>
            </div>
            
            <div class="border-t border-gray-800 mt-12 pt-8 md:flex md:items-center md:justify-between">
                <div class="flex space-x-6 md:order-2">
                    <a href="#" class="text-gray-400 hover:text-white">Privacy Policy</a>
                    <a href="#" class="text-gray-400 hover:text-white">Terms of Service</a>
                    <a href="#" class="text-gray-400 hover:text-white">Sitemap</a>
                </div>
                <p class="mt-8 text-base text-gray-400 md:mt-0 md:order-1">
                    Â© 2025 IBA REAL ESTATE. All rights reserved.
                </p>
            </div>
        </div>
    </footer>

    <!-- JavaScript -->
      <!-- JavaScript -->
   <script>
document.addEventListener('DOMContentLoaded', () => {
    console.log('DOM loaded - initializing buy page scripts...');

    // 1. Mobile Menu Toggle
    const mobileMenuButton = document.getElementById('mobile-menu-button');
    if (mobileMenuButton) {
        mobileMenuButton.addEventListener('click', () => {
            const menu = document.getElementById('mobile-menu');
            if (menu) menu.classList.toggle('hidden');
        });
    }

    // 2. Smooth Scrolling for Anchor Links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', (e) => {
            const targetId = anchor.getAttribute('href');
            if (targetId === '#') return;
            const targetElement = document.querySelector(targetId);
            if (targetElement) {
                e.preventDefault();
                window.scrollTo({
                    top: targetElement.offsetTop - 80,
                    behavior: 'smooth'
                });
                // Close mobile menu if open
                const mobileMenu = document.getElementById('mobile-menu');
                if (mobileMenu) mobileMenu.classList.add('hidden');
            }
        });
    });

    // 3. Services Dropdown Toggle (Unchanged)
    const serviceToggle = document.getElementById('service-toggle');
    const serviceMenu = document.getElementById('service-menu');
    const dropdownIcon = serviceToggle?.querySelector('.dropdown-icon');
    if (serviceToggle && serviceMenu) {
        serviceToggle.addEventListener('click', (e) => {
            e.stopPropagation();
            const isExpanded = serviceToggle.getAttribute('aria-expanded') === 'true';
            serviceToggle.setAttribute('aria-expanded', !isExpanded);
            serviceMenu.classList.toggle('show');
            if (dropdownIcon) dropdownIcon.classList.toggle('rotated');
        });

        serviceMenu.querySelectorAll('[role="menuitem"]').forEach(item => {
            item.addEventListener('click', () => {
                serviceToggle.setAttribute('aria-expanded', 'false');
                serviceMenu.classList.remove('show');
                if (dropdownIcon) dropdownIcon.classList.remove('rotated');
            });
        });

        document.addEventListener('click', (e) => {
            if (!serviceToggle.contains(e.target) && !serviceMenu.contains(e.target)) {
                serviceToggle.setAttribute('aria-expanded', 'false');
                serviceMenu.classList.remove('show');
                if (dropdownIcon) dropdownIcon.classList.remove('rotated');
            }
        });

        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && serviceMenu.classList.contains('show')) {
                serviceToggle.setAttribute('aria-expanded', 'false');
                serviceMenu.classList.remove('show');
                if (dropdownIcon) dropdownIcon.classList.remove('rotated');
                serviceToggle.focus();
            }
        });

        serviceMenu.addEventListener('focusout', (e) => {
            setTimeout(() => {
                if (!serviceMenu.contains(document.activeElement)) {
                    serviceToggle.setAttribute('aria-expanded', 'false');
                    serviceMenu.classList.remove('show');
                    if (dropdownIcon) dropdownIcon.classList.remove('rotated');
                }
            }, 100);
        });
    }

    // 4. Login Check & Replace with Logout (New/Updated)
    const desktopContainer = document.getElementById('desktop-login-container');
    const mobileSection = document.getElementById('mobile-login-section');
    console.log('Checking login status...');

    fetch('/api/check-login', { credentials: 'include' })
        .then(res => {
            if (!res.ok) throw new Error(`HTTP ${res.status}`);
            return res.json();
        })
        .then(data => {
            console.log('Login check response:', data);
            if (data.loggedIn) {
                // Replace Desktop: Add Dashboard + Logout
                if (desktopContainer) {
                    desktopContainer.innerHTML = `
                        <!--<a href="/dashboard.html"><button class="bg-green-600 hover:bg-green-700 px-4 py-2 rounded-md text-white font-medium transition duration-300">Dashboard</button></a>-->
                        <a id="logout-btn-desktop" href="/logout"><button class="bg-red-600 hover:bg-red-700 px-4 py-2 rounded-md text-white font-medium transition duration-300">Logout</button></a>
                    `;
                    console.log('Desktop login replaced with logout');
                }

                // Replace Mobile: Add buttons in section
                if (mobileSection) {
                    mobileSection.innerHTML = `
                        <!--<a href="/dashboard.html"><button class="w-full bg-green-600 hover:bg-green-700 px-4 py-2 rounded-md text-white font-medium transition duration-300 mb-2">Dashboard</button></a>-->
                        <a id="logout-btn-mobile" href="/logout"><button class="w-full bg-red-600 hover:bg-red-700 px-4 py-2 rounded-md text-white font-medium transition duration-300">Logout</button></a>
                    `;
                    console.log('Mobile login replaced with logout');
                }

                // Add Confirm Dialog to Logout Buttons (Optional)
                document.addEventListener('click', (e) => {
                    if (e.target.id === 'logout-btn-desktop' || e.target.id === 'logout-btn-mobile') {
                        if (confirm('Are you sure you want to log out?')) {
                            // Optional: Call API for logout (if /logout is GET, just navigate)
                            fetch('/logout', { method: 'POST', credentials: 'include' })
                                .then(() => {
                                    window.location.href = '/';  // Redirect to home after logout
                                })
                                .catch(err => {
                                    console.error('Logout failed:', err);
                                    window.location.href = '/';  // Fallback
                                });
                        }
                        e.preventDefault();
                    }
                });

                console.log('Login UI updated - User is logged in');
            } else {
                console.log('User  not logged in - Login buttons remain');
            }
        })
        .catch(err => {
            console.error('Login check failed:', err);
            // Fallback: Keep login visible
        });

    // 5. Handle Requires-Login Elements (e.g., View Details)
    document.querySelectorAll('.requires-login').forEach(element => {
        element.addEventListener('click', (e) => {
            e.preventDefault();
            fetch('/api/check-login', { credentials: 'include' })
                .then(res => {
                    if (!res.ok) throw new Error(`HTTP ${res.status}`);
                    return res.json();
                })
                .then(data => {
                    if (!data.loggedIn) {
                        alert('Please log in to view details.');
                        window.location.href = '/login';
                    } else {
                        console.log('Logged in - proceeding to details');
                        if (element.tagName === 'A') {
                            window.location.href = element.href;
                        }
                    }
                })
                .catch(err => {
                    console.error('Login check failed:', err);
                    window.location.href = '/login';
                });
        });
    });

    // 6. Property Filters, Search, Pagination (Updated for EJS Data & URL Params)
    const filterTabs = document.querySelectorAll('.filter-tab');
    const propertyCards = document.querySelectorAll('.property-card');
    const propertyGrid = document.getElementById('property-grid');
    const searchButton = document.querySelector('button[type="submit"]');
    const prevBtn = document.querySelector('#property-grid ~ .flex button:first-child');
    const nextBtn = document.querySelector('#property-grid ~ .flex button:last-child');
    const pageIndicator = document.querySelector('#property-grid ~ .flex span');

    let currentPage = 1;
    const itemsPerPage = 8;
    let filteredCards = Array.from(propertyCards);

    // URL Param Handling for Filters (e.g., ?property_type=Self Contain)
    const urlParams = new URLSearchParams(window.location.search);
    const initialFilter = urlParams.get('property_type') || 'all';

    function updateResultsCount(filterType) {
        let count = 0;
        propertyCards.forEach(card => {
            const cardType = card.getAttribute('data-type');
            if (filterType === 'all' || cardType === filterType) count++;
        });
        console.log(`Showing ${count} properties for filter: ${filterType}`);
    }

    function showPage(page) {
        const totalPages = Math.ceil(filteredCards.length / itemsPerPage);
        if (page < 1) page = 1;
        if (page > totalPages) page = totalPages;
        currentPage = page;

        propertyCards.forEach(card => card.style.display = 'none');

        const start = (currentPage - 1) * itemsPerPage;
        const end = start + itemsPerPage;
        filteredCards.slice(start, end).forEach(card => {
            card.style.display = 'block';
            card.style.opacity = '0';
            card.style.transform = 'translateY(20px)';
            setTimeout(() => {
                card.style.transition = 'all 0.3s ease';
                card.style.opacity = '1';
                card.style.transform = 'translateY(0)';
            }, 100);
        });

        if (prevBtn) prevBtn.disabled = currentPage === 1;
        if (nextBtn) nextBtn.disabled = currentPage === totalPages || totalPages === 0;
        if (pageIndicator) pageIndicator.textContent = `Page ${currentPage} of ${totalPages || 1}`;
    }

    function updateFilteredCards(filterType = 'all', searchCriteria = null) {
        filteredCards = Array.from(propertyCards).filter(card => {
            const cardType = card.getAttribute('data-type');
            let matchesFilter = (filterType === 'all' || cardType === filterType);

            if (searchCriteria) {
                const cardLocation = card.querySelector('[class*="property-address"], .property-address')?.textContent.toLowerCase() || '';  // Flexible selector
                const cardPriceText = card.querySelector('.text-xl')?.textContent.replace(/[^\d,]/g, '').replace(/,/g, '') || '0';
                const cardPrice = parseInt(cardPriceText) || 0;

                if (searchCriteria.location && !cardLocation.includes(searchCriteria.location)) matchesFilter = false;
                if (searchCriteria.propertyType && searchCriteria.propertyType !== '' && !searchCriteria.propertyType.toLowerCase().includes(cardType.toLowerCase())) matchesFilter = false;
                if (searchCriteria.minPrice && cardPrice < searchCriteria.minPrice) matchesFilter = false;
                if (searchCriteria.maxPrice && cardPrice > searchCriteria.maxPrice) matchesFilter = false;
            }

            return matchesFilter;
        });

        showPage(1);
        updateResultsCount(filterType);
    }

    // Filter Tabs: Click to Update URL & Filter
    filterTabs.forEach(tab => {
        tab.addEventListener('click', (e) => {
            e.preventDefault();
            filterTabs.forEach(t => t.classList.remove('active'));
            tab.classList.add('active');

            const filterType = tab.getAttribute('data-filter');
            const url = new URL(window.location.href);
            url.searchParams.delete('property_type');
            if (filterType !== 'all') url.searchParams.set('property_type', filterType);
            window.location.href = url.toString();  // Reload with param (server-side filter if backend supports)
        });
    });

    // Set Initial Active Tab from URL
    filterTabs.forEach(tab => {
        const filterValue = tab.getAttribute('data-filter');
        if (filterValue === initialFilter) {
            tab.classList.add('active');
            updateFilteredCards(initialFilter);
        }
    });

    // Search Button: Client-Side Filter (or Backend if URL Params)
    if (searchButton) {
        searchButton.addEventListener('click', (e) => {
            e.preventDefault();
            const location = document.getElementById('location').value.trim().toLowerCase();
            const propertyType = document.getElementById('property-type').value.trim().toLowerCase();
            const minPriceRaw = document.getElementById('min-price').value.trim();
            const maxPriceRaw = document.getElementById('max-price').value.trim();

            const minPrice = minPriceRaw ? parseInt(minPriceRaw.replace(/[^\d]/g, '')) : null;
            const maxPrice = maxPriceRaw ? parseInt(maxPriceRaw.replace(/[^\d]/g, '')) : null;

            updateFilteredCards('all', { location, propertyType, minPrice, maxPrice });

            document.getElementById('properties').scrollIntoView({ behavior: 'smooth' });
            alert(`${filteredCards.length} properties match your search. Scroll down to view.`);
        });
    }

    // Pagination
    if (prevBtn && nextBtn) {
        prevBtn.addEventListener('click', () => { if (currentPage > 1) showPage(currentPage - 1); });
        nextBtn.addEventListener('click', () => {
            const totalPages = Math.ceil(filteredCards.length / itemsPerPage);
            if (currentPage < totalPages) showPage(currentPage + 1);
        });
    }

    // 7. Lazy Loading (Unchanged)
    if ('IntersectionObserver' in window) {
        const imageObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const img = entry.target;
                    img.src = img.dataset.src || img.src;
                    img.classList.remove('lazy');
                    imageObserver.unobserve(img);
                }
            });
        });
        document.querySelectorAll('img[data-src]').forEach(img => imageObserver.observe(img));
    }

    // Initialize
    if (propertyCards.length > 0) updateFilteredCards(initialFilter);
    console.log('Buy page scripts initialized.');
});
</script>
</body>
</html>